<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="ru"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Tests.kt</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">KotlinAsFirst2021_Testing$FuzzingTests_testCountSubstrings.exec</a> &gt; <a href="index.source.html" class="el_package">lesson7.task1</a> &gt; <span class="el_source">Tests.kt</span></div><h1>Tests.kt</h1><pre class="source lang-java linenums">package lesson7.task1

import org.junit.jupiter.api.Assertions.assertEquals
import org.junit.jupiter.api.Tag
import org.junit.jupiter.api.Test
import java.io.File

<span class="nc" id="L8">class Tests {</span>

    private fun assertFileContent(name: String, expectedContent: String) {
<span class="nc" id="L11">        val file = File(name)</span>
<span class="nc" id="L12">        val content = file.readLines().joinToString(&quot;\n&quot;)</span>
<span class="nc" id="L13">        assertEquals(expectedContent, content)</span>
<span class="nc" id="L14">    }</span>

    @Test
    @Tag(&quot;Example&quot;)
    fun alignFile() {
<span class="nc" id="L19">        alignFile(&quot;input/align_in1.txt&quot;, 50, &quot;temp.txt&quot;)</span>
<span class="nc" id="L20">        assertFileContent(</span>
<span class="nc" id="L21">            &quot;temp.txt&quot;,</span>
<span class="nc" id="L22">            &quot;&quot;&quot;Для написания разных видов программ сейчас</span>
применяются разные языки программирования.
Например, в сфере мобильных программ сейчас правят
бал языки Swift (мобильные устройства под
управлением iOS) и Java (устройства под
управлением Android). Системные программы, как
правило, пишутся на языках C или {cpp}. Эти же
языки долгое время использовались и для создания
встраиваемых программ, но в последние годы в этой
области набирает популярность язык Java. Для
написания web-клиентов часто используется
JavaScript, а в простых случаях -- язык разметки
страниц HTML. Web-серверы используют опять-таки
Java (в сложных случаях), а также Python и PHP (в
более простых). Наконец, простые desktop-программы
сейчас могут быть написаны на самых разных языках,
и выбор во многом зависит от сложности программы,
области её использования, предполагаемой
операционной системы. В первую очередь следует
назвать языки Java, {cpp}, C#, Python, Visual
Basic, Ruby, Swift.

Самым универсальным и одновременно самым
распространённым языком программирования на данный
момент следует считать язык Java. Java в широком
смысле -- не только язык, но и платформа для
выполнения программ под самыми разными
операционными системами и на разной аппаратуре.
Такая универсальность обеспечивается наличием
виртуальной машины Java -- системной программы,
интерпретирующей Java байт-код в машинные коды
конкретного компьютера или системы. Java также
включает богатейший набор библиотек для
разработки.&quot;&quot;&quot;
        )
<span class="nc" id="L57">        File(&quot;temp.txt&quot;).delete()</span>
<span class="nc" id="L58">    }</span>

    @Test
    @Tag(&quot;8&quot;)
    fun deleteMarked() {
<span class="nc" id="L63">        deleteMarked(&quot;input/delete_in1.txt&quot;, &quot;temp.txt&quot;)</span>
<span class="nc" id="L64">        assertFileContent(</span>
<span class="nc" id="L65">            &quot;temp.txt&quot;,</span>
            &quot;&quot;&quot;Задачи _надо_ решать правильно,

и не надо при этом никуда торопиться___
<span class="nc" id="L69">            &quot;&quot;&quot;.trimIndent()</span>
        )
<span class="nc" id="L71">        File(&quot;temp.txt&quot;).delete()</span>
<span class="nc" id="L72">    }</span>

    @Test
    @Tag(&quot;14&quot;)
    fun countSubstrings() {
<span class="nc" id="L77">        assertEquals(</span>
<span class="nc" id="L78">            mapOf(&quot;РАЗНЫЕ&quot; to 2, &quot;ные&quot; to 2, &quot;Неряшливость&quot; to 1, &quot;е&quot; to 49, &quot;эволюция&quot; to 0),</span>
<span class="nc" id="L79">            countSubstrings(&quot;input/substrings_in1.txt&quot;, listOf(&quot;РАЗНЫЕ&quot;, &quot;ные&quot;, &quot;Неряшливость&quot;, &quot;е&quot;, &quot;эволюция&quot;))</span>
        )
<span class="nc" id="L81">        assertEquals(</span>
<span class="nc" id="L82">            mapOf(&quot;Карминовый&quot; to 2, &quot;Некрасивый&quot; to 2, &quot;белоглазый&quot; to 1),</span>
<span class="nc" id="L83">            countSubstrings(&quot;input/substrings_in1.txt&quot;, listOf(&quot;Карминовый&quot;, &quot;Некрасивый&quot;, &quot;белоглазый&quot;))</span>
        )
<span class="nc" id="L85">        assertEquals(</span>
<span class="nc" id="L86">            mapOf(&quot;--&quot; to 4, &quot;ее&quot; to 2, &quot;животное&quot; to 2, &quot;.&quot; to 2),</span>
<span class="nc" id="L87">            countSubstrings(&quot;input/substrings_in2.txt&quot;, listOf(&quot;--&quot;, &quot;ее&quot;, &quot;животное&quot;, &quot;.&quot;))</span>
        )
<span class="nc" id="L89">    }</span>

    @Test
    @Tag(&quot;12&quot;)
    fun sibilants() {
<span class="nc" id="L94">        sibilants(&quot;input/sibilants_in1.txt&quot;, &quot;temp.txt&quot;)</span>
<span class="nc" id="L95">        assertFileContent(</span>
<span class="nc" id="L96">            &quot;temp.txt&quot;,</span>
<span class="nc" id="L97">            &quot;&quot;&quot;/**</span>
 * Простая
 *
 * В русском языке, как правило, после букв Ж, Ч, Ш, Щ пишется И, А, У, а не Ы, Я, Ю.
 * Во входном файле с именем inputName содержится некоторый текст.
 * Проверить текст во входном файле на соблюдение данного правила и вывести в выходной
 * файл outputName текст с исправленными ошибками.
 *
 * Регистр заменённых букв следует сохранять.
 *
 * Исключения (жУри, броШУра, параШут) в рамках данного задания обрабатывать не нужно
 *
 * жИ шИ ЖИ Ши ЖА шА Жа ша жу шу жу щу ча шу щу ща жа жи жи жу чу ча
 */&quot;&quot;&quot;
        )
<span class="nc" id="L112">        File(&quot;temp.txt&quot;).delete()</span>
<span class="nc" id="L113">    }</span>

    @Test
    @Tag(&quot;15&quot;)
    fun centerFile() {
<span class="nc" id="L118">        centerFile(&quot;input/center_in1.txt&quot;, &quot;temp.txt&quot;)</span>
<span class="nc" id="L119">        assertFileContent(</span>
<span class="nc" id="L120">            &quot;temp.txt&quot;,</span>
<span class="nc" id="L121">            &quot;&quot;&quot;              Съешь же ещё этих мягких французских булок, да выпей чаю.</span>
Широкая электрификация южных губерний даст мощный толчок подъёму сельского хозяйства.
                                        Тест
                                          &quot;&quot;&quot; +  // Avoiding trailing whitespaces problem
                    &quot;&quot;&quot;
                                     Hello World
           Во входном файле с именем inputName содержится некоторый текст.
        Вывести его в выходной файл с именем outputName, выровняв по центру.&quot;&quot;&quot;
        )
<span class="nc" id="L130">        File(&quot;temp.txt&quot;).delete()</span>

<span class="nc" id="L132">    }</span>

    @Test
    @Tag(&quot;20&quot;)
    fun alignFileByWidth() {
<span class="nc" id="L137">        alignFileByWidth(&quot;input/width_in1.txt&quot;, &quot;temp.txt&quot;)</span>
<span class="nc" id="L138">        assertFileContent(</span>
<span class="nc" id="L139">            &quot;temp.txt&quot;,</span>
<span class="nc" id="L140">            &quot;&quot;&quot;Простая</span>

Во       входном       файле       с       именем       inputName       содержится       некоторый      текст.
Вывести   его  в  выходной  файл  с  именем  outputName,  выровняв  по  левому  и  правому  краю  относительно
самой                                              длинной                                             строки.
Выравнивание   производить,   вставляя  дополнительные  пробелы  между  словами:  равномерно  по  всей  строке

Слова     внутри     строки     отделяются     друг     от     друга     одним     или     более     пробелом.

Следующие                   правила                   должны                  быть                  выполнены:
1)     Каждая     строка     входного    и    выходного    файла    не    должна    заканчиваться    пробелом.
2) Пустые строки или строки из пробелов во входном файле должны превратиться в пустые строки в выходном файле.
3)   Число   строк   в   выходном  файле  должно  быть  равно  числу  строк  во  входном  (в  т.  ч.  пустых).

Равномерность              определяется              следующими             формальными             правилами:
1)  Число  пробелов  между  каждыми  двумя  парами  соседних  слов  не  должно  отличаться  более,  чем  на 1.
2)  Число  пробелов  между  более  левой  парой  соседних  слов  должно  быть  больше или равно числу пробелов
между                более               правой               парой               соседних               слов.&quot;&quot;&quot;
        )
<span class="nc" id="L159">    }</span>

    @Test
    @Tag(&quot;14&quot;)
    fun top20Words() {
<span class="nc" id="L164">        assertEquals(mapOf&lt;String, Int&gt;(), top20Words(&quot;input/empty.txt&quot;))</span>
<span class="nc" id="L165">        assertEquals(mapOf(</span>
<span class="nc" id="L166">            &quot;привет&quot; to 4,</span>
<span class="nc" id="L167">            &quot;все&quot; to 3,</span>
<span class="nc" id="L168">            &quot;и&quot; to 3,</span>
<span class="nc" id="L169">            &quot;прямо&quot; to 3,</span>
<span class="nc" id="L170">            &quot;всё&quot; to 2,</span>
<span class="nc" id="L171">            &quot;let&quot; to 2,</span>
<span class="nc" id="L172">            &quot;us&quot; to 2,</span>
<span class="nc" id="L173">            &quot;write&quot; to 2,</span>
<span class="nc" id="L174">            &quot;some&quot; to 2,</span>
<span class="nc" id="L175">            &quot;digits&quot; to 2</span>
<span class="nc bnc" id="L176" title="All 4 branches missed.">        ), top20Words(&quot;input/top20.txt&quot;).filter { it.value &gt; 1 })</span>
<span class="nc" id="L177">        assertEquals(</span>
<span class="nc" id="L178">            mapOf(</span>
<span class="nc" id="L179">                &quot;и&quot; to 1106,</span>
<span class="nc" id="L180">                &quot;в&quot; to 674,</span>
<span class="nc" id="L181">                &quot;не&quot; to 411,</span>
<span class="nc" id="L182">                &quot;он&quot; to 306,</span>
<span class="nc" id="L183">                &quot;на&quot; to 290,</span>
<span class="nc" id="L184">                &quot;я&quot; to 261,</span>
<span class="nc" id="L185">                &quot;с&quot; to 261,</span>
<span class="nc" id="L186">                &quot;как&quot; to 211,</span>
<span class="nc" id="L187">                &quot;но&quot; to 210,</span>
<span class="nc" id="L188">                &quot;что&quot; to 187,</span>
<span class="nc" id="L189">                &quot;все&quot; to 131,</span>
<span class="nc" id="L190">                &quot;к&quot; to 130,</span>
<span class="nc" id="L191">                &quot;она&quot; to 126,</span>
<span class="nc" id="L192">                &quot;его&quot; to 109,</span>
<span class="nc" id="L193">                &quot;за&quot; to 105,</span>
<span class="nc" id="L194">                &quot;то&quot; to 104,</span>
<span class="nc" id="L195">                &quot;а&quot; to 98,</span>
<span class="nc" id="L196">                &quot;ее&quot; to 95,</span>
<span class="nc" id="L197">                &quot;мне&quot; to 95,</span>
<span class="nc" id="L198">                &quot;уж&quot; to 95,</span>
<span class="nc" id="L199">                &quot;ей&quot; to 95</span>
<span class="nc" id="L200">            ), top20Words(&quot;input/onegin.txt&quot;)</span>
        )
<span class="nc" id="L202">    }</span>

    @Test
    @Tag(&quot;14&quot;)
    fun transliterate() {
<span class="nc" id="L207">        transliterate(</span>
<span class="nc" id="L208">            &quot;input/trans_in1.txt&quot;,</span>
<span class="nc" id="L209">            mapOf('з' to &quot;zz&quot;, 'р' to &quot;r&quot;, 'д' to &quot;d&quot;, 'й' to &quot;y&quot;, 'М' to &quot;m&quot;, 'и' to &quot;yy&quot;, '!' to &quot;!!!&quot;),</span>
<span class="nc" id="L210">            &quot;temp.txt&quot;</span>
        )
<span class="nc" id="L212">        assertFileContent(&quot;temp.txt&quot;, &quot;Zzdrавствуy,\nmyyr!!!&quot;)</span>
<span class="nc" id="L213">        File(&quot;temp.txt&quot;).delete()</span>

<span class="nc" id="L215">        transliterate(</span>
<span class="nc" id="L216">            &quot;input/trans_in1.txt&quot;,</span>
<span class="nc" id="L217">            mapOf('з' to &quot;zZ&quot;, 'р' to &quot;r&quot;, 'д' to &quot;d&quot;, 'й' to &quot;y&quot;, 'М' to &quot;m&quot;, 'и' to &quot;YY&quot;, '!' to &quot;!!!&quot;),</span>
<span class="nc" id="L218">            &quot;temp.txt&quot;</span>
        )
<span class="nc" id="L220">        assertFileContent(&quot;temp.txt&quot;, &quot;Zzdrавствуy,\nmyyr!!!&quot;)</span>
<span class="nc" id="L221">        File(&quot;temp.txt&quot;).delete()</span>
<span class="nc" id="L222">    }</span>

    @Test
    @Tag(&quot;12&quot;)
    fun chooseLongestChaoticWord() {
<span class="nc" id="L227">        chooseLongestChaoticWord(&quot;input/chaotic_in1.txt&quot;, &quot;temp.txt&quot;)</span>
<span class="nc" id="L228">        assertFileContent(&quot;temp.txt&quot;, &quot;Карминовый, Некрасивый&quot;)</span>
<span class="nc" id="L229">        File(&quot;temp.txt&quot;).delete()</span>
<span class="nc" id="L230">    }</span>


    private fun checkHtmlSimpleExample() {
<span class="nc" id="L234">        val result = File(&quot;temp.html&quot;).readText().replace(Regex(&quot;[\\s\\n\\t]&quot;), &quot;&quot;)</span>
<span class="nc" id="L235">        val expected =</span>
            &quot;&quot;&quot;
                    &lt;html&gt;
                        &lt;body&gt;
                            &lt;p&gt;
                                Lorem ipsum &lt;i&gt;dolor sit amet&lt;/i&gt;, consectetur &lt;b&gt;adipiscing&lt;/b&gt; elit.
                                Vestibulum lobortis. &lt;s&gt;Est vehicula rutrum &lt;i&gt;suscipit&lt;/i&gt;&lt;/s&gt;, ipsum &lt;s&gt;lib&lt;/s&gt;ero &lt;i&gt;placerat &lt;b&gt;tortor&lt;/b&gt;&lt;/i&gt;.
                            &lt;/p&gt;
                            &lt;p&gt;
                                Suspendisse &lt;s&gt;et elit in enim tempus iaculis&lt;/s&gt;.
                            &lt;/p&gt;
                        &lt;/body&gt;
                    &lt;/html&gt;
<span class="nc" id="L248">                    &quot;&quot;&quot;.trimIndent().replace(Regex(&quot;[\\s\\n\\t]&quot;), &quot;&quot;)</span>
<span class="nc" id="L249">        assertEquals(expected, result)</span>

<span class="nc" id="L251">        File(&quot;temp.html&quot;).delete()</span>
<span class="nc" id="L252">    }</span>

    @Test
    @Tag(&quot;22&quot;)
    fun markdownToHtmlSimple() {
<span class="nc" id="L257">        markdownToHtmlSimple(&quot;input/markdown_simple.md&quot;, &quot;temp.html&quot;)</span>
<span class="nc" id="L258">        checkHtmlSimpleExample()</span>
<span class="nc" id="L259">    }</span>

    private fun checkHtmlListsExample() {
<span class="nc" id="L262">        val result = File(&quot;temp.html&quot;).readText().replace(Regex(&quot;[\\s\\n\\t]&quot;), &quot;&quot;)</span>
<span class="nc" id="L263">        val expected =</span>
            &quot;&quot;&quot;
                    &lt;html&gt;
                      &lt;body&gt;
                        &lt;p&gt;
                          &lt;ul&gt;
                            &lt;li&gt;Утка по-пекински
                              &lt;ul&gt;
                                &lt;li&gt;Утка&lt;/li&gt;
                                &lt;li&gt;Соус&lt;/li&gt;
                              &lt;/ul&gt;
                            &lt;/li&gt;
                            &lt;li&gt;Салат Оливье
                              &lt;ol&gt;
                                &lt;li&gt;Мясо
                                  &lt;ul&gt;
                                    &lt;li&gt;Или колбаса&lt;/li&gt;
                                  &lt;/ul&gt;
                                &lt;/li&gt;
                                &lt;li&gt;Майонез&lt;/li&gt;
                                &lt;li&gt;Картофель&lt;/li&gt;
                                &lt;li&gt;Что-то там ещё&lt;/li&gt;
                              &lt;/ol&gt;
                            &lt;/li&gt;
                            &lt;li&gt;Помидоры&lt;/li&gt;
                            &lt;li&gt;Фрукты
                              &lt;ol&gt;
                                &lt;li&gt;Бананы&lt;/li&gt;
                                &lt;li&gt;Яблоки
                                  &lt;ol&gt;
                                    &lt;li&gt;Красные&lt;/li&gt;
                                    &lt;li&gt;Зелёные&lt;/li&gt;
                                  &lt;/ol&gt;
                                &lt;/li&gt;
                              &lt;/ol&gt;
                            &lt;/li&gt;
                          &lt;/ul&gt;
                        &lt;/p&gt;
                      &lt;/body&gt;
                    &lt;/html&gt;
<span class="nc" id="L303">                    &quot;&quot;&quot;.trimIndent().replace(Regex(&quot;[\\s\\n\\t]&quot;), &quot;&quot;)</span>
<span class="nc" id="L304">        assertEquals(expected, result)</span>

<span class="nc" id="L306">        File(&quot;temp.html&quot;).delete()</span>
<span class="nc" id="L307">    }</span>

    @Test
    @Tag(&quot;23&quot;)
    fun markdownToHtmlLists() {
<span class="nc" id="L312">        markdownToHtmlLists(&quot;input/markdown_lists.md&quot;, &quot;temp.html&quot;)</span>
<span class="nc" id="L313">        checkHtmlListsExample()</span>
<span class="nc" id="L314">    }</span>

    @Test
    @Tag(&quot;30&quot;)
    fun markdownToHtml() {
<span class="nc" id="L319">        markdownToHtml(&quot;input/markdown_simple.md&quot;, &quot;temp.html&quot;)</span>
<span class="nc" id="L320">        checkHtmlSimpleExample()</span>

<span class="nc" id="L322">        markdownToHtml(&quot;input/markdown_lists.md&quot;, &quot;temp.html&quot;)</span>
<span class="nc" id="L323">        checkHtmlListsExample()</span>
<span class="nc" id="L324">    }</span>

    @Test
    @Tag(&quot;12&quot;)
    fun printMultiplicationProcess() {
        fun test(lhv: Int, rhv: Int, res: String) {
<span class="nc" id="L330">            printMultiplicationProcess(lhv, rhv, &quot;temp.txt&quot;)</span>
<span class="nc" id="L331">            assertFileContent(&quot;temp.txt&quot;, res.trimIndent())</span>
<span class="nc" id="L332">            File(&quot;temp.txt&quot;).delete()</span>
<span class="nc" id="L333">        }</span>

<span class="nc" id="L335">        test(</span>
<span class="nc" id="L336">            19935,</span>
<span class="nc" id="L337">            111,</span>
<span class="nc" id="L338">            &quot;&quot;&quot;</span>
                19935
             *    111
             --------
                19935
             + 19935
             +19935
             --------
              2212785
             &quot;&quot;&quot;
        )

<span class="nc" id="L350">        test(</span>
<span class="nc" id="L351">            12345,</span>
<span class="nc" id="L352">            76,</span>
<span class="nc" id="L353">            &quot;&quot;&quot;</span>
               12345
             *    76
             -------
               74070
             +86415
             -------
              938220
             &quot;&quot;&quot;
        )

<span class="nc" id="L364">        test(</span>
<span class="nc" id="L365">            12345,</span>
<span class="nc" id="L366">            6,</span>
<span class="nc" id="L367">            &quot;&quot;&quot;</span>
              12345
             *    6
             ------
              74070
             ------
              74070
             &quot;&quot;&quot;
        )

<span class="nc" id="L377">    }</span>

    @Test
    @Tag(&quot;25&quot;)
    fun printDivisionProcess() {

        fun test(lhv: Int, rhv: Int, res: String) {
<span class="nc" id="L384">            printDivisionProcess(lhv, rhv, &quot;temp.txt&quot;)</span>
<span class="nc" id="L385">            assertFileContent(&quot;temp.txt&quot;, res.trimIndent())</span>
<span class="nc" id="L386">            File(&quot;temp.txt&quot;).delete()</span>
<span class="nc" id="L387">        }</span>

<span class="nc" id="L389">        test(</span>
<span class="nc" id="L390">            19935,</span>
<span class="nc" id="L391">            22,</span>
<span class="nc" id="L392">            &quot;&quot;&quot;</span>
              19935 | 22
             -198     906
             ----
                13
                -0
                --
                135
               -132
               ----
                  3
             &quot;&quot;&quot;
        )

<span class="nc" id="L406">        test(</span>
<span class="nc" id="L407">            2,</span>
<span class="nc" id="L408">            20,</span>
<span class="nc" id="L409">            &quot;&quot;&quot;</span>
              2 | 20
             -0   0
             --
              2
             &quot;&quot;&quot;
        )

<span class="nc" id="L417">        test(</span>
<span class="nc" id="L418">            99999,</span>
<span class="nc" id="L419">            1,</span>
<span class="nc" id="L420">            &quot;&quot;&quot;</span>
              99999 | 1
             -9       99999
             --
              09
              -9
              --
               09
               -9
               --
                09
                -9
                --
                 09
                 -9
                 --
                  0
             &quot;&quot;&quot;
        )

<span class="nc" id="L440">        File(&quot;temp.txt&quot;).delete()</span>
<span class="nc" id="L441">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>